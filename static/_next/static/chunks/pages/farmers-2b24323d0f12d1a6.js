(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[864],{2186:function(e,n,r){"use strict";var t=r(8175),s=r(5893);n.Z=(0,t.Z)((0,s.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility")},8257:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/farmers",function(){return r(4367)}])},4367:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return q}});var t=r(5893),s=r(7294),o=r(5697),a=r.n(o),i=r(7074),c=r(2097),l=r(120),d=r(244),h=r(3978),p=r(9807),x=r(7272),j=r(4026),m=r(6777),u=r(3212),Z=r(2773),g=r(9417),f=r(1401),w=r(562),y=r(8066),b=r(6172),_=r(8317),P=r(1290),C=r(9072),k=r(784),v=r(9630),S=r(5084),T=r(1664),N=r.n(T),z=r(2186),E=r(1163),M=r(594),R=r(1955);let A=(0,i.ZP)(x.Z)(e=>{let{theme:n}=e;return{["&.".concat(j.Z.head)]:{backgroundColor:n.palette.primary.dark,color:n.palette.common.white},["&.".concat(j.Z.body)]:{fontSize:14}}});function F(e){let n=(0,c.Z)(),{count:r,page:s,rowsPerPage:o,onPageChange:a}=e,i=e=>{a(e,0)},d=e=>{a(e,s-1)},h=e=>{a(e,s+1)},p=e=>{a(e,Math.max(0,Math.ceil(r/o)-1))};return(0,t.jsxs)(l.Z,{sx:{flexShrink:0,ml:2.5},children:[(0,t.jsx)(w.Z,{onClick:i,disabled:0===s,"aria-label":"first page",children:"rtl"===n.direction?(0,t.jsx)(P.Z,{}):(0,t.jsx)(y.Z,{})}),(0,t.jsx)(w.Z,{onClick:d,disabled:0===s,"aria-label":"previous page",children:"rtl"===n.direction?(0,t.jsx)(_.Z,{}):(0,t.jsx)(b.Z,{})}),(0,t.jsx)(w.Z,{onClick:h,disabled:s>=Math.ceil(r/o)-1,"aria-label":"next page",children:"rtl"===n.direction?(0,t.jsx)(b.Z,{}):(0,t.jsx)(_.Z,{})}),(0,t.jsx)(w.Z,{onClick:p,disabled:s>=Math.ceil(r/o)-1,"aria-label":"last page",children:"rtl"===n.direction?(0,t.jsx)(y.Z,{}):(0,t.jsx)(P.Z,{})})]})}function q(){let[e,n]=(0,s.useState)(0),[r,o]=(0,s.useState)(5),[a,i]=(0,s.useState)([]),c=e>0?Math.max(0,(1+e)*r-a.length):0,j=(e,r)=>{n(r)},w=e=>{o(parseInt(e.target.value,10)),n(0)},y=R.Z.get("accessToken"),b=R.Z.get("companyName"),_=(0,E.useRouter)();_.asPath.split("?").pop();let[P,T]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=R.Z.get("accessToken");e||_.push("/")},[_]);let q=()=>{M.Z.get("".concat("http://minkyaa.pythonanywhere.com/admin-api","/get-farmers-warehouses/?company_type=").concat(b),{headers:{Authorization:"Bearer ".concat(y),"Content-Type":"application/json"}}).then(e=>{console.log("farmers res",e.data.response),e&&(i(e.data.response),T(!1))}).catch(e=>{console.log("farmers err",e)})};return(0,s.useEffect)(()=>{q()},[]),(0,t.jsx)(C.ZP,{container:!0,spacing:2,justifyContent:"center",sx:{padding:3},children:(0,t.jsxs)(C.ZP,{item:!0,lg:12,xs:11,children:[(0,t.jsx)(k.Z,{}),(0,t.jsx)("h1",{children:"Farmers"}),(0,t.jsxs)(f.Z,{variant:"outlined",sx:{padding:"1em",width:"100%"},children:[(0,t.jsx)(C.ZP,{item:!0,lg:12,xs:11,children:(0,t.jsxs)(l.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,t.jsx)(v.Z,{variant:"subtitle1",sx:{fontSize:"20px"},gutterBottom:!0,children:"Farmers List"}),(0,t.jsx)(N(),{href:"/farmers/addFarmers",children:(0,t.jsx)(S.Z,{variant:"contained",children:"+ Add Farmers"})})]})}),(0,t.jsx)(C.ZP,{item:!0,lg:12,xs:11,children:(0,t.jsx)(m.Z,{component:f.Z,sx:{marginTop:"15px"},children:(0,t.jsxs)(d.Z,{sx:{minWidth:500},"aria-label":"custom pagination table",children:[(0,t.jsx)(h.Z,{children:(0,t.jsxs)(g.Z,{children:[(0,t.jsx)(A,{children:"No."}),(0,t.jsx)(A,{children:"Property Name"}),(0,t.jsx)(A,{children:"Property Type"}),(0,t.jsx)(A,{children:"Property Survay Number"}),(0,t.jsx)(A,{children:"Address"}),(0,t.jsx)(A,{children:"City"}),(0,t.jsx)(A,{children:"State"}),(0,t.jsx)(A,{children:"Country"}),(0,t.jsx)(A,{children:"Total Galas"}),(0,t.jsx)(A,{children:"Total Rentals"}),(0,t.jsx)(A,{children:"Farmer Name"}),(0,t.jsx)(A,{children:"Details"})]})}),(0,t.jsxs)(p.Z,{children:[(r>0?a.slice(e*r,e*r+r):a).map((e,n)=>(0,t.jsxs)(g.Z,{children:[(0,t.jsx)(x.Z,{component:"th",scope:"row",children:n+1}),(0,t.jsx)(x.Z,{component:"th",scope:"row",children:e.property_name}),(0,t.jsx)(x.Z,{component:"th",scope:"row",children:e.property_type}),(0,t.jsx)(x.Z,{component:"th",scope:"row",children:e.property_survey_number}),(0,t.jsx)(x.Z,{component:"th",scope:"row",children:e.address}),(0,t.jsx)(x.Z,{component:"th",scope:"row",children:e.city}),(0,t.jsx)(x.Z,{component:"th",scope:"row",children:e.state}),(0,t.jsx)(x.Z,{component:"th",scope:"row",children:e.country}),(0,t.jsx)(x.Z,{component:"th",scope:"row",children:e.total_number_of_galas}),(0,t.jsx)(x.Z,{component:"th",scope:"row",children:e.total_number_of_rentals}),(0,t.jsx)(x.Z,{component:"th",scope:"row",children:e.farmer_name}),(0,t.jsx)(x.Z,{component:"th",scope:"row",children:(0,t.jsx)(N(),{href:"/farmers/".concat(e.farmer_uid),style:{textDecoration:"none"},children:(0,t.jsx)(S.Z,{size:"small",variant:"text",sx:{textTransform:"lowercase"},endIcon:(0,t.jsx)(z.Z,{}),children:"view"})})})]},n)),c>0&&(0,t.jsx)(g.Z,{style:{height:53*c},children:(0,t.jsx)(x.Z,{colSpan:6})})]}),(0,t.jsx)(u.Z,{children:(0,t.jsx)(g.Z,{children:(0,t.jsx)(Z.Z,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:12,count:a.length,rowsPerPage:r,page:e,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onPageChange:j,onRowsPerPageChange:w,ActionsComponent:F})})})]})})})]})]})})}F.propTypes={count:a().number.isRequired,onPageChange:a().func.isRequired,page:a().number.isRequired,rowsPerPage:a().number.isRequired}}},function(e){e.O(0,[527,774,888,179],function(){return e(e.s=8257)}),_N_E=e.O()}]);