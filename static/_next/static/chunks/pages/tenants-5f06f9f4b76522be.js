(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[554],{2186:function(e,n,t){"use strict";var s=t(8175),a=t(5893);n.Z=(0,s.Z)((0,a.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility")},2169:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tenants",function(){return t(9030)}])},9030:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return I}});var s=t(5893),a=t(7294),r=t(5697),i=t.n(r),o=t(7074),c=t(2097),l=t(120),h=t(244),d=t(3978),x=t(9807),u=t(7272),p=t(4026),Z=t(6777),j=t(3212),g=t(2773),m=t(9417),f=t(1401),b=t(562),w=t(8066),_=t(6172),P=t(8317),y=t(1290),C=t(9072),k=t(784),T=t(9630),v=t(5084),S=t(1664),N=t.n(S),z=t(2186),E=t(1163),M=t(594),R=t(1955);let q=(0,o.ZP)(u.Z)(e=>{let{theme:n}=e;return{["&.".concat(p.Z.head)]:{backgroundColor:n.palette.primary.dark,color:n.palette.common.white},["&.".concat(p.Z.body)]:{fontSize:14}}});function A(e){let n=(0,c.Z)(),{count:t,page:a,rowsPerPage:r,onPageChange:i}=e,o=e=>{i(e,0)},h=e=>{i(e,a-1)},d=e=>{i(e,a+1)},x=e=>{i(e,Math.max(0,Math.ceil(t/r)-1))};return(0,s.jsxs)(l.Z,{sx:{flexShrink:0,ml:2.5},children:[(0,s.jsx)(b.Z,{onClick:o,disabled:0===a,"aria-label":"first page",children:"rtl"===n.direction?(0,s.jsx)(y.Z,{}):(0,s.jsx)(w.Z,{})}),(0,s.jsx)(b.Z,{onClick:h,disabled:0===a,"aria-label":"previous page",children:"rtl"===n.direction?(0,s.jsx)(P.Z,{}):(0,s.jsx)(_.Z,{})}),(0,s.jsx)(b.Z,{onClick:d,disabled:a>=Math.ceil(t/r)-1,"aria-label":"next page",children:"rtl"===n.direction?(0,s.jsx)(_.Z,{}):(0,s.jsx)(P.Z,{})}),(0,s.jsx)(b.Z,{onClick:x,disabled:a>=Math.ceil(t/r)-1,"aria-label":"last page",children:"rtl"===n.direction?(0,s.jsx)(w.Z,{}):(0,s.jsx)(y.Z,{})})]})}function I(){let[e,n]=(0,a.useState)(0),[t,r]=(0,a.useState)(5),[i,o]=(0,a.useState)([]),c=e>0?Math.max(0,(1+e)*t-i.length):0,p=(e,t)=>{n(t)},b=e=>{r(parseInt(e.target.value,10)),n(0)},w=R.Z.get("accessToken"),_=R.Z.get("companyName"),P=(0,E.useRouter)(),[y,S]=(0,a.useState)(!0);(0,a.useEffect)(()=>{let e=R.Z.get("accessToken");e||P.push("/")},[P]);let I=()=>{M.Z.get("".concat("http://minkyaa.pythonanywhere.com/admin-api","/get-rental-users-warehouse/?company_type=").concat(_),{headers:{Authorization:"Bearer ".concat(w),"Content-Type":"application/json"}}).then(e=>{console.log("tenants res",e.data.response),e&&(o(e.data.response),S(!1))}).catch(e=>{console.log("tenants err",e)})};return(0,a.useEffect)(()=>{I()},[]),(0,s.jsx)(C.ZP,{container:!0,spacing:2,justifyContent:"center",sx:{padding:3},children:(0,s.jsxs)(C.ZP,{item:!0,lg:12,xs:11,children:[(0,s.jsx)(k.Z,{}),(0,s.jsx)("h1",{children:"Tenants"}),(0,s.jsxs)(f.Z,{variant:"outlined",sx:{padding:"1em",width:"100%"},children:[(0,s.jsx)(C.ZP,{item:!0,lg:12,xs:11,children:(0,s.jsx)(l.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:(0,s.jsx)(T.Z,{variant:"subtitle1",sx:{fontSize:"20px"},gutterBottom:!0,children:"Tenants List"})})}),(0,s.jsx)(C.ZP,{item:!0,lg:12,xs:11,children:(0,s.jsx)(Z.Z,{component:f.Z,children:(0,s.jsxs)(h.Z,{sx:{minWidth:500},"aria-label":"custom pagination table",children:[(0,s.jsx)(d.Z,{children:(0,s.jsxs)(m.Z,{children:[(0,s.jsx)(q,{children:"No."}),(0,s.jsx)(q,{children:"Tenant Name"}),(0,s.jsx)(q,{children:"Total Galas"}),(0,s.jsx)(q,{children:"Total Warehouses"}),(0,s.jsx)(q,{children:"Details"})]})}),(0,s.jsxs)(x.Z,{children:[(t>0?i.slice(e*t,e*t+t):i).map((e,n)=>(0,s.jsxs)(m.Z,{children:[(0,s.jsx)(u.Z,{component:"th",scope:"row",children:n+1}),(0,s.jsx)(u.Z,{component:"th",scope:"row",children:e.username}),(0,s.jsx)(u.Z,{component:"th",scope:"row",children:e.total_number_of_galas}),(0,s.jsx)(u.Z,{component:"th",scope:"row",children:e.total_number_of_warehouse}),(0,s.jsx)(u.Z,{component:"th",scope:"row",children:(0,s.jsx)(N(),{href:"/tenants/".concat(e.user_uid),style:{textDecoration:"none"},children:(0,s.jsx)(v.Z,{size:"small",variant:"text",sx:{textTransform:"lowercase"},endIcon:(0,s.jsx)(z.Z,{}),children:"view"})})})]},n)),c>0&&(0,s.jsx)(m.Z,{style:{height:53*c},children:(0,s.jsx)(u.Z,{colSpan:6})})]}),(0,s.jsx)(j.Z,{children:(0,s.jsx)(m.Z,{children:(0,s.jsx)(g.Z,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:12,count:i.length,rowsPerPage:t,page:e,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onPageChange:p,onRowsPerPageChange:b,ActionsComponent:A})})})]})})})]})]})})}A.propTypes={count:i().number.isRequired,onPageChange:i().func.isRequired,page:i().number.isRequired,rowsPerPage:i().number.isRequired}}},function(e){e.O(0,[527,774,888,179],function(){return e(e.s=2169)}),_N_E=e.O()}]);